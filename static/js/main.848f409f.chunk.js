(this.webpackJsonpmoney_note=this.webpackJsonpmoney_note||[]).push([[0],{33:function(e,t,n){e.exports=n(62)},38:function(e,t,n){},54:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(22),o=n.n(c),l=(n(38),n(39),n(40),n(41),n(23)),i=n(4),u="set user",s={nickName:"",email:"",isLogin:!1},m="show white popup and set content",p="hide white popup and clear content",d={isShow:!1,type:"content",title:"",titleColor:"black",content:"",contentColor:"black",defaultButton:{type:"close",clickHandle:null,color:"#bae1ff"},buttonGroups:[]},f="set pageInfo",b={isLoading:!1},h=Object(l.b)(Object(l.a)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(i.a)(Object(i.a)({},e),t.value);default:return e}},whitePop:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(i.a)(Object(i.a)({},d),{},{isShow:!0},t.value);case p:return Object(i.a)({},d);default:return e}},pageInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(i.a)(Object(i.a)({},e),t.value);default:return e}}})),g=n(9);var v=function(e){return r.a.createElement(g.a.Provider,{value:h},e.children)},E=n(8),y=n.n(E),w=n(14),k=n(17),O=n(13),j=n(2),C=n(15),T=n.n(C);n(44),n(46);T.a.initializeApp({apiKey:"AIzaSyBLwOpH5VcTHxMvViFpd3Jdukx9FJCoqrE",authDomain:"silvermoney-c0a9b.firebaseapp.com",databaseURL:"https://silvermoney-c0a9b.firebaseio.com",projectId:"silvermoney-c0a9b",storageBucket:"silvermoney-c0a9b.appspot.com",messagingSenderId:"893386586316",appId:"1:893386586316:web:5dd91e591a6cf426fc2a69",measurementId:"G-VCXVRB3QEL"});var x=T.a.auth(),P=T.a.firestore(),B=T.a,I=h.dispatch,N=function(e){return I({type:f,value:{isLoading:e}})},S=h.dispatch,L={contentType:{title:"title",content:"content",titleContent:"title - content"},actionType:{logout:"logout",reloadPage:"reloadPage",toMainPage:"redirect to mainPage",close:"close",custom:"custom"}},A=h.dispatch,H=function(){var e=Object(w.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,P.collection("users").doc(t).get();case 5:return n=e.sent,e.abrupt("return",Object(i.a)({uid:t},n.data()));case 9:e.prev=9,e.t0=e.catch(2),console.error("Error fetching user",e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(w.a)(y.a.mark((function e(t,n){var a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return a=P.collection("users").doc(t.uid),e.next=5,a.get();case 5:if(e.sent.exists){e.next=16;break}return r=t.email,e.prev=8,e.next=11,a.set(Object(i.a)({email:r},n));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(8),console.error("Error creating user document",e.t0);case 16:return e.abrupt("return",H(t.uid));case 17:case"end":return e.stop()}}),e,null,[[8,13]])})));return function(t,n){return e.apply(this,arguments)}}(),G=function(){var e=Object(w.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),e.abrupt("return",x.setPersistence(B.auth.Auth.Persistence.SESSION).then((function(){return x.signInWithEmailAndPassword(t,n).then((function(e){return D(e.user).then((function(e){return e&&A({type:u,value:{email:e.email,isLogin:!0}}),!0}))}))})).catch((function(e){N(!1),S({type:m,value:{content:"Error signing in with password and email!"}}),console.error("Error signing in with password and email",e)})).finally((function(){N(!1)})));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),J=n(1),M=(n(54),function(e){var t=Object(a.useState)(e),n=Object(k.a)(t,2),r=n[0],c=n[1];return{value:r,onChange:Object(a.useCallback)((function(e){c(e.currentTarget.value)}),[])}}),V=function(){return r.a.createElement(J.Toolbar,null,r.a.createElement("div",{className:"left"},r.a.createElement(J.BackButton,null,"Back")),r.a.createElement("div",{className:"center"},"\u767b\u5165\u9801\u9762"),r.a.createElement("div",{className:"right"},r.a.createElement(O.b,{to:"/changelog"},r.a.createElement(J.ToolbarButton,null,r.a.createElement(J.Icon,{icon:"md-menu"})))))},_=function(){var e=M(""),t=M("");return r.a.createElement(J.Page,{className:"sign-page",modifier:"material",renderToolbar:function(){return r.a.createElement(V,null)},contentStyle:{backgroundColor:"white"}},r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(J.Icon,{size:200,icon:"fa-grav",style:{color:"#9cbddb"},"fixed-width":!0})),r.a.createElement("div",{style:{padding:"0 10%"}},r.a.createElement("div",null,r.a.createElement(J.Input,Object.assign({float:!0,style:{width:"100%"},modifier:"material"},e,{placeholder:"\u5e33\u865f"}))),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(J.Input,Object.assign({float:!0,type:"password",style:{width:"100%"},modifier:"material"},t,{placeholder:"\u5bc6\u78bc"}))),r.a.createElement("br",null),r.a.createElement(J.Button,{modifier:"large--cta",onClick:function(n){n.preventDefault(),G(e.value,t.value)}},"\u767b\u5165")))},z=(n(57),n(58),n(59),n(60),function(e){return r.a.createElement(J.Toolbar,null,r.a.createElement("div",{className:"left"},r.a.createElement(J.BackButton,{onClick:function(){e.history.push("/")}},"Back")),r.a.createElement("div",{className:"center"},"\u767b\u5165\u9801\u9762"),r.a.createElement("div",{className:"right"},r.a.createElement(O.b,{to:"/changelog"},r.a.createElement(J.ToolbarButton,null,r.a.createElement(J.Icon,{icon:"md-menu"})))))}),F=function(e){return r.a.createElement(J.Page,{className:"sign-page",modifier:"material",renderToolbar:function(){return r.a.createElement(z,e)},contentStyle:{backgroundColor:"white"}},"ChangeLog...")};var W=function(){var e=Object(g.b)(Object(a.useCallback)((function(e){return e.user}),[])),t=Object(a.useState)(!0),n=Object(k.a)(t,2),c=n[0],o=n[1];return Object(a.useEffect)((function(){x.onAuthStateChanged(function(){var e=Object(w.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=t,D(n).then((function(e){e&&A({type:u,value:{email:e.email,isLogin:!0}})})).finally((function(){N(!1)}))).then((function(){o(!1)}));case 1:case"end":return e.stop()}var n}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),c?r.a.createElement("p",null,"Loading"):r.a.createElement(O.a,null,r.a.createElement(j.c,null,r.a.createElement(j.a,{path:"/",exact:!0,component:function(){return e.isLogin?r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Hello"),r.a.createElement("p",null,e.email)):r.a.createElement(_,null)}}),r.a.createElement(j.a,{path:"/changelog",component:F})))},R=(n(61),function(){var e=Object(g.b)(Object(a.useCallback)((function(e){return e.whitePop}),[])),t=e.isShow,n=e.type,c=e.title,o=e.titleColor,l=e.content,u=e.contentColor,s=e.defaultButton,m=e.buttonGroups,d=o?{color:o}:{},f=u?{color:u}:{},b=function(e){e&&(e.preventDefault(),e.stopPropagation()),S({type:p})},h=function(e,t){switch(e.preventDefault(),e.stopPropagation(),t.actionType){case L.actionType.logout:return void b();case L.actionType.reloadPage:return void window.location.reload(!1);case L.actionType.toMainPage:case L.actionType.close:return void b();case L.actionType.custom:return void("function"===typeof t.clickHandle?t.clickHandle(b):b());default:return}};return r.a.createElement(J.AlertDialog,{isOpen:t,isCancelable:!1,className:"whitePop"},[L.contentType.title,L.contentType.titleContent].includes(n)&&r.a.createElement("div",{className:"alert-dialog-title",style:Object(i.a)({},d)},c&&c.toString().split("<br/>").map((function(e,t){return r.a.createElement("p",{key:"whitePop-title_"+t},e)}))),[L.contentType.content,L.contentType.titleContent].includes(n)&&r.a.createElement("div",{className:"alert-dialog-content",style:Object(i.a)({},f)},l&&l.toString().split("<br/>").map((function(e,t){return r.a.createElement("p",{key:"whitePop-content_"+t},e)}))),r.a.createElement("div",{className:"alert-dialog-footer"},m&&m.length?m.map((function(e,t){return r.a.createElement("div",{className:"btn-block",key:"buttonGroup"+t},e.map((function(e,t){var n=e.color?{color:e.color}:{};return r.a.createElement("div",{key:"button"+t,className:"btn",style:n,onClick:function(t){return h(t,e)}},e.text?e.text:"\u6211\u77e5\u9053\u4e86")})))})):r.a.createElement(J.Button,{onClick:function(e){return h(e,{actionType:s.type})},className:"alert-dialog-button"},"\u6211\u77e5\u9053\u4e86")))}),q=function(){return Object(g.b)(Object(a.useCallback)((function(e){return e.pageInfo.isLoading}),[]))&&r.a.createElement(J.Modal,{isOpen:!0}," ",r.a.createElement(J.Icon,{spin:!0,icon:"spinner"})," Loading ...")};var K=function(){return r.a.createElement(v,null,r.a.createElement(W,null),r.a.createElement(R,null),r.a.createElement(q,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);