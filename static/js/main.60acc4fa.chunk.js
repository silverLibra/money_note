(this.webpackJsonpmoney_note=this.webpackJsonpmoney_note||[]).push([[0],{26:function(e,t,n){e.exports=n(48)},31:function(e,t,n){},43:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(22),o=n.n(c),u=(n(31),n(32),n(33),n(34),n(14)),s=n(5),i="set user",l={nickName:"",email:"",isLogin:!1},m=Object(u.b)(Object(u.a)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i:return Object(s.a)(Object(s.a)({},e),t.value);default:return e}}})),p=n(10);var d=function(e){return r.a.createElement(p.a.Provider,{value:m},e.children)},f=n(2),b=n.n(f),h=n(3),v=n(4),w=n(25),g=n(8),E=n.n(g);n(37),n(39);E.a.initializeApp({apiKey:"AIzaSyBLwOpH5VcTHxMvViFpd3Jdukx9FJCoqrE",authDomain:"silvermoney-c0a9b.firebaseapp.com",databaseURL:"https://silvermoney-c0a9b.firebaseio.com",projectId:"silvermoney-c0a9b",storageBucket:"silvermoney-c0a9b.appspot.com",messagingSenderId:"893386586316",appId:"1:893386586316:web:5dd91e591a6cf426fc2a69",measurementId:"G-VCXVRB3QEL"});var x=E.a.auth(),O=E.a.firestore(),j=E.a,y=m.dispatch,k=function(){var e=Object(h.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,O.collection("users").doc(t).get();case 5:return n=e.sent,e.abrupt("return",Object(s.a)({uid:t},n.data()));case 9:e.prev=9,e.t0=e.catch(2),console.error("Error fetching user",e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(h.a)(b.a.mark((function e(t,n){var a,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return a=O.collection("users").doc(t.uid),e.next=5,a.get();case 5:if(e.sent.exists){e.next=16;break}return r=t.email,e.prev=8,e.next=11,a.set(Object(s.a)({email:r},n));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(8),console.error("Error creating user document",e.t0);case 16:return e.abrupt("return",k(t.uid));case 17:case"end":return e.stop()}}),e,null,[[8,13]])})));return function(t,n){return e.apply(this,arguments)}}(),N=function(){var e=Object(h.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",S(t).then((function(e){e&&y({type:i,value:{email:e.email,isLogin:!0}})})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(a.useState)(""),t=Object(v.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(""),u=Object(v.a)(o,2),s=u[0],i=u[1],l=Object(a.useState)(null),m=Object(v.a)(l,2),p=m[0],d=m[1],f=function(e){var t=e.currentTarget,n=t.name,a=t.value;"userEmail"===n?c(a):"userPassword"===n&&i(a)};return r.a.createElement("div",{className:"mt-8"},r.a.createElement("h1",{className:"text-3xl mb-2 text-center font-bold"},"Sign In"),r.a.createElement("div",{className:"border border-blue-400 mx-auto w-11/12 md:w-2/4 rounded py-8 px-4 md:px-8"},null!==p&&r.a.createElement("div",{className:"py-4 bg-red-600 w-full text-white text-center mb-3"},p),r.a.createElement("form",{className:""},r.a.createElement("label",{htmlFor:"userEmail",className:"block"},"Email:"),r.a.createElement("input",{type:"email",className:"my-1 p-1 w-full",name:"userEmail",value:n,placeholder:"E.g: faruq123@gmail.com",id:"userEmail",onChange:function(e){return f(e)}}),r.a.createElement("label",{htmlFor:"userPassword",className:"block"},"Password:"),r.a.createElement("input",{type:"password",className:"mt-1 mb-3 p-1 w-full",name:"userPassword",value:s,placeholder:"Your Password",id:"userPassword",onChange:function(e){return f(e)}}),r.a.createElement("button",{className:"bg-green-400 hover:bg-green-500 w-full py-2 text-white",onClick:function(e){!function(e,t,n){e.preventDefault(),x.setPersistence(j.auth.Auth.Persistence.SESSION).then((function(){x.signInWithEmailAndPassword(t,n).then((function(e){console.log(e),N(e.user)})).catch((function(e){d("Error signing in with password and email!"),console.error("Error signing in with password and email",e)}))}))}(e,n,s)}},"Sign in"))))};n(43);var I=function(){var e=Object(p.b)(Object(a.useCallback)((function(e){return e.user}),[])),t=Object(a.useState)(!0),n=Object(v.a)(t,2),c=n[0],o=n[1];return Object(a.useEffect)((function(){x.onAuthStateChanged(function(){var e=Object(h.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N(t).then((function(){o(!1)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),c?r.a.createElement("p",null,"Loading"):e.isLogin?r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Hello"),r.a.createElement("p",null,e.email)):r.a.createElement(w.a,null,r.a.createElement(P,{path:"/"}))};var C=function(){return r.a.createElement(d,null,r.a.createElement(I,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[26,1,2]]]);